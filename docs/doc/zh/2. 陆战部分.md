> **Notice**  
> This document is part of an independent, unofficial analysis of *Call of War* game mechanics.  
> Licensed under CC BY 4.0 unless otherwise noted.

## 概述
本文档主要讲述计算器中对陆战以及海战中通用的近战机制模拟的来源逻辑，所有内容均为个人研究成果，未经过官方认证。若有任何疑问，请参照官方文档，相关部分可参见[此处](https://wiki.callofwar.com/wiki/COMBAT#Melee_combat)。

## 陆战近战
经推断可得出，CoW的战斗中必然存在至少一个进攻方（Attacker）和防守方（Defender）。进攻输出与防御输出在作用范围上并不对称：
- 进攻方的伤害计算以防守方的所有有效 Stack 为目标集合；
- 而防守方的防御性伤害仅在局部交战上下文中计算，并限定作用于对应的单一进攻 Stack。

一般的陆战近战通常指只存在一个进攻方和一个防守方，同一个回合内两个敌对Stack之间只发生一次攻击行为和一次反击行为，我们可以称其为“两个Stack之间可生成一个[伤害上下文](4.%20%E4%BC%A4%E5%AE%B3%E7%BB%93%E7%AE%97.md#伤害上下文)”，这种上下文的生成行为是单向的（e.g. `Stack A → Stack B`），每一个进攻方向都会生成一个独立的伤害上下文。

## 双边对称进攻交战状态
在CoW中，当两支中立或敌对的军队在行进中接触，或在一般的陆战近战中防守方国家对该军队进行了操作使军队状态更新，交战双方将会均以进攻方身份参与结算，不存在传统意义上的防守方角色[²](6.%20%E5%8F%82%E8%80%83.md#²)，且双方的攻击和反击输出以生成两个`伤害上下文`的形式在遵循[上下文级顺序执行](4.%20%E4%BC%A4%E5%AE%B3%E7%BB%93%E7%AE%97.md#上下文级顺序执行)规则的情况下于同一结算阶段内计算并同时生效。

尽管舰船的攻击输出和反击输出一致，所有的`海战（近战）`都可以视为双边对称进攻交战状态[³](6.%20%E5%8F%82%E8%80%83.md#³)。


## NEXT PART

本文档仅对陆战部分的机制进行了介绍，若希望了解空战（包括空对地）的计算机制，请继续阅读第三部分：

➡ **[第三部分：空战说明](3.%20%E7%A9%BA%E6%88%98%E9%83%A8%E5%88%86.md)**